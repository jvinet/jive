<html>
<head>
	<title>Jive</title>
	<script type="text/javascript" src="../jquery.js"></script>
	<script type="text/javascript" src="../jive.min.js"></script>

	<!-- models -->
	<script type="text/javascript">
		// extend the parent Jive_Model class
		PersonModel = function(){
			// call the parent constructor
			Jive_Model.call(this);
		}.mixin(Jive_Model);
	</script>

	<!-- controllers -->
	<script type="text/javascript">
		MainController = function() {
			Jive_Controller.call(this);

			this.index = function(req, res) {
			}
		}.mixin(Jive_Controller);

		PersonController = function(){
			Jive_Controller.call(this);
			self.m = new PersonModel();

			this.save = function(req, res, $trig) {
				// $trig is a jQuery object containing the element that triggered
				// this action
				if(!self.m.validate($trig)) return;
				alert("You passed");
			}
		}.mixin(Jive_Controller);

		// set the (initial) default controller to use if none specified
		Jive.controller = 'Main';
		Jive.DEBUG = true;
		Jive.run('index');
	</script>

	<style type="text/css">
		.field-error { border: 1px solid red; }
	</style>
</head>

<body>
	<form run="Person/save">
		Name: <input type="text" name="name" valid="ne" /><br />
		Address: <input type="text" name="address" valid="ne" /><br />
		Email: <input type="text" name="email" valid="email" /><br />
		<br />
		<input type="submit" value="Let's do this" />
	</form>
</body>

</html>

